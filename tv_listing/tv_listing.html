<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="tv-listing">
  <link rel="import" type="css" href="tv_listing.css">
  <template>
    <div style = "margin-bottom: 20px;">
      <select id="genres" value="{{genre::change}}">
        <option value="comedy" selected="true">Comedy</option>
        <option value="crime">Crime</option>
        <option value="languages">Langauges</option>
        <option value="music">Music</option>
        <option value="football">Football</option>
      </select>

      <cool-button on-click="onHelp" id="btn-help" bodycolor="sun-flower" label="View Help!"></cool-button>
      <cool-button on-click="onMusic" id="btn-music" bodycolor="green-sea" label="Music"></cool-button>
      <cool-button on-click="onComedy" id="btn-comedy" bodycolor="wisteria" label="Comedy"></cool-button>
      <cool-button on-click="onFootball" id="btn-football" bodycolor="alazarian" label="Football"></cool-button>
    </div>

    <section id="programList">
      <ul id="resultsList" class="listing">
        <li class="entry heading">
          BBC TV Listing for [<span class="genre-type">{{genre}}</span>]
        </li>

        <template is="dom-repeat" items="{{listingResults}}">
          <li class="entry" on-click="onListSelect">
            <div class="entry-title"><span class="entry-part">Title:</span> <span>{{item.programme.display_titles.title}}</span>
            </div>
            <div class="entry-date"><span class="entry-part">Date:</span> <span>{{item.start}}</span></div>
            <div class="entry-channel"><span class="entry-part">Channel:</span> <span>{{item.service.title}}</span>
            </div>
            <div class="entry-synopsis"><span class="entry-part">Synopsis:</span> <span>{{item.programme.short_synopsis}}</span>
            </div>
          </li>
        </template>
      </ul>

    </section>

    <template is="dom-if" if="{{listingResults.length}}">
      <ul class="listing">
        <li class="entry footing">
          Results list is [<span>{{listingResults.length}}</span>] entries long
        </li>
      </ul>
    </template>

  </template>
</dom-module>

<script src="tv_listing.js"></script>
